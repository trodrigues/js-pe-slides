<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js - The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>JavaScript</h1>
					<h2>as the future of progressive enhancement</h2>
					<p>
						<small><a href="http://trodrigues.net">Tiago Rodrigues</a> / <a href="http://twitter.com/trodrigues">@trodrigues</a></small>
					</p>
          <aside class="notes" data-markdown>
            * Let's talk about how to fix PE with JS
          </aside>
				</section>

        <section>
          <div data-markdown>
					<script type="text/template">
## What's progressive enhancement?
					</script>
          </div>
          <aside class="notes" data-markdown>
            * Build a basic website
            * Enhance its functionality
            * But we don't do things like that anymore
            * Let's make this happen
          </aside>
				</section>

				<section>
          <div data-markdown>
					<script type="text/template">
## How did we lose progressive enhancement?
					</script>
          </div>
          <aside class="notes" data-markdown>
	* frontend applications have been getting more and more complex
	* mvc applications came along to help tame the complexity
	* in the end we realized: it's easier if we keep more things in the same side
          </aside>
				</section>

				<section>
          <h2>So why does progressive enhancement matter?</h2>
          <p class="fragment">Acessibility</p>
          <p class="fragment">SEO</p>
          <p class="fragment">Performance</p>
          <aside class="notes" data-markdown>
            * Acessibility: not just people who turn off JS
            * SEO
            * Performance
          </aside>
				</section>

				<section>
            <h2>Some found alternate solutions</h2>
            <h3 class="fragment">Others disregarded the problems</h3>
          <aside class="notes" data-markdown>
            * Alternate solutions, ahead
            * Others disregarded this
            * Some people just don't have this requirement
          </aside>
				</section>

				<section>
          <div data-markdown>
					<script type="text/template">
## So what are the solutions?
					</script>
          </div>
          <aside class="notes" data-markdown>
          </aside>
				</section>

				<section>
          <h2>Go oldschool</h2>
          <ul class="fragment">
            <li>Backend app, server rendering</li>
            <li>Sprinkle some JS for interactivity</li>
          </ul>
          <aside class="notes" data-markdown>
            * backend app, server rendering
            * get data from db
            * insert data in db
            * sprinkle some JS for interactivity
          </aside>
				</section>

				<section>
          <h1>Problems</h1>
          <ul>
            <li class="fragment">Duplicate logic</li>
            <li class="fragment">Duplicate templates</li>
            <li class="fragment">Cumbersome ways to update the DOM</li>
            <li class="fragment">Or put an MVC framework on top of it</li>
          </ul>
          <aside class="notes" data-markdown>
            * multitude of technologies on the backend
            * templates not so common to duplicate but still happens
            * rerender templates or update DOM attrs
            * bring in an mvc framework
          </aside>
				</section>

				<section>
          <h2>Single page apps</h2>
          <ul class="fragment">
            <li>Hide data management behind an API</li>
            <li>Build a complete app on the frontend</li>
          </ul>
          <aside class="notes" data-markdown>
            * data management on API
            * frontend app is a client
          </aside>
				</section>

				<section>
          <h2>Problems</h2>
          <ul>
            <li class="fragment">No JS, no app</li>
            <li class="fragment">No out of the box SEO</li>
            <li class="fragment">Less performance on first render</li>
          </ul>
          <aside class="notes" data-markdown>
            * doesn't work without JS
            * no SEO by default
            * slower first rendering
          </aside>
				</section>

				<section>
          <h2>And that might be ok</h2>
          <aside class="notes" data-markdown>
            * check your requirements. an SPA might be ideal (ex: Google Docs, Contentful)
          </aside>
				</section>

				<section>
          <h2>Fixing SPAs</h2>
          <ul>
            <li class="fragment"><a href="https://github.com/jed/rndr.me">https://github.com/jed/rndr.me</a></li>
            <li class="fragment"><a href="http://prerender.io/">http://prerender.io/</a></li>
          </ul>
          <aside class="notes" data-markdown>
            * still longer response time with server browser render
            * SEO only
          </aside>
				</section>

				<section>
          <div data-markdown>
					<script type="text/template">
## We need to rethink the way we build webapps
					</script>
          </div>
          <aside class="notes" data-markdown>
          </aside>
				</section>

				<section>
          <div data-markdown>
					<script type="text/template">
## You're probably already building APIs anyway.
					</script>
          </div>
          <aside class="notes" data-markdown>
          </aside>
				</section>

				<section>
          <div data-markdown>
					<script type="text/template">
## Our frontend apps need to be client/server hybrids
					</script>
          </div>
          <aside class="notes" data-markdown>
            * your frontend includes the server that serves the UI
            * frontend app, part server, part frontend
            * node.js as a server
            * both talk to the api
          </aside>
				</section>

				<section>
          <a href="http://www.nczonline.net/blog/2013/10/07/node-js-and-the-new-web-front-end/">http://www.nczonline.net/blog/2013/10/07/node-js-and-the-new-web-front-end/</a>
          <aside class="notes" data-markdown>
            * great timing on this article
          </aside>
				</section>

				<section>
          <div data-markdown>
					<script type="text/template">
## Existing solutions
* https://github.com/airbnb/rendr
* http://www.meteor.com/faq/can-meteor-serve-static-html
					</script>
          </div>
          <aside class="notes" data-markdown>
            * rendr is weird, not finished, use case specific
            * meteor only doing SEO, no initial HTML yet
          </aside>
				</section>

				<section>
          <div data-markdown>
					<script type="text/template">
## But these solutions are a bit monolithic
					</script>
          </div>
          <aside class="notes" data-markdown>
            * Making a lot of decisions for you
            * Not for all use cases
            * Let's mix and match
          </aside>
				</section>

				<section>
          <div data-markdown>
					<script type="text/template">
## The Top10 case study
http://top10.me
					</script>
          </div>
          <aside class="notes" data-markdown>
            * 2012 app
            * SEO mattered a lot
            * Mobile performance too, responsive app
          </aside>
				</section>

				<section>
          <h2>Top 10</h2>
          <ul>
            <li>REST API (Scala, Cassandra)</li>
            <li class="fragment">JS client</li>
            <li class="fragment">Same interface, different communication layer</li>
            <li class="fragment">Write models on top of this interface</li>
            <li class="fragment">Handlebars templates</li>
          </ul>
          <aside class="notes" data-markdown>
            * rest api
            * js client
            * same interface on js client, different implementation
            * models on top of js api
            * handlebars
          </aside>
				</section>

				<section>
          <h2>Top 10</h2>
          <ul>
            <li class="fragment">Routing was still different</li>
            <li class="fragment">DOM manipulation code only served to frontend</li>
            <li class="fragment">Request handling logic only on backend</li>
          </ul>
          <aside class="notes" data-markdown>
            * still a few issues
          </aside>
				</section>

				<section>
          <h2>Top 10</h2>
          <ul>
            <li class="fragment">Not perfect, but helped development time a lot</li>
            <li class="fragment">High percentage of code share (also with an admin app)</li>
          </ul>
          <aside class="notes" data-markdown>
            * we never really did performance measurements though
          </aside>
				</section>

				<section>
          <h2>What's the current state of affairs?</h2>
          <ul>
            <li class="fragment">Most components are almost there</li>
            <li class="fragment">We still need some bits of glue</li>
            <li class="fragment">And those should be provided by components</li>
          </ul>
          <aside class="notes" data-markdown>
            * Components are almost there
            * But we still need some glue
            * Let's create smaller components, not frameworks
            * Everyone has different needs, pluggable components for each use case
            * Middlewares, data layers, views, etc
          </aside>
				</section>

				<section>
          <h2>Data layers</h2>
          <ul>
            <li class="fragment">Just talk to a REST API</li>
            <li class="fragment">Build a lightweight access layer</li>
          </ul>
          <aside class="notes" data-markdown>
            * Explain our Contentful data layer
            * jQuery.ajax, $http
            * mikeal/request
          </aside>
				</section>

				<section>
          <h2>Routing</h2>
          <ul>
            <li class="fragment">Routing is almost there</li>
            <li class="fragment">It's fairly easy to share routes anyway</li>
          </ul>
          <aside class="notes" data-markdown>
            * almost there
            * director
            * route.js/route-recognizer
            * we might still need a better router
          </aside>
				</section>

				<section>
          <h2>Views</h2>
          <ul>
            <li class="fragment">Views have been troublesome</li>
            <li class="fragment">Server only renders template</li>
            <li class="fragment">Client renders and attaches behavior</li>
          </ul>
          <aside class="notes" data-markdown>
            * but there are some solutions
          </aside>
				</section>

				<section>
          <div data-markdown>
					<script type="text/template">
## React.js is a solution
					</script>
          </div>
          <aside class="notes" data-markdown>
          </aside>
				</section>

				<section>
          <h2>React.js</h2>
          <ul>
            <li class="fragment">View library</li>
            <li class="fragment">Developed by Facebook</li>
            <li class="fragment">Markup, data binding and DOM behavior</li>
            <li class="fragment">Uses a pre-processed HTML variant (JSX)</li>
            <li class="fragment">Virtual DOM and Event system</li>
          </ul>
          <aside class="notes" data-markdown>
            * Troublesome unveiling
            * Template + DOM logic, maybe not so bad
            * Diff updating on DOM
            * Node rendering for free (almost)
          </aside>
				</section>

				<section>
          <h2>React.js</h2>
          <ul>
            <li class="fragment"><a href="https://github.com/facebook/react-page">https://github.com/facebook/react-page</a></li>
            <li class="fragment"><a href="https://github.com/facebook/react-page-middleware">https://github.com/facebook/react-page-middleware</a></li>
          </ul>
          <aside class="notes" data-markdown>
            * server rendering app framework
            * not very great, making a lot of decisions for you and unstable
            * some alternate modules showing up (browserify, etc)
            * was going to show a demo app with contentful
            * but this broke on me
          </aside>
				</section>

				<section>
          <h2>More people are taking note</h2>
          <ul>
            <li class="fragment">Airbnb</li>
            <li class="fragment">Coursera</li>
          </ul>
          <aside class="notes" data-markdown>
            * backbonish implementations
            * backbone also being split
          </aside>
				</section>

				<section>
          <h2>So how do we put this together?</h2>
          <ul>
            <li class="fragment">Data layer</li>
            <li class="fragment">View layer</li>
          </ul>
          <aside class="notes" data-markdown>
            * One view layer only, with access to data layer
          </aside>
				</section>

				<section>
          <h2>So how do we put this together?</h2>
          <ul>
            <li class="fragment">Route handlers create instances of view layer</li>
            <li class="fragment">Feed view layer with initial data</li>
            <li class="fragment">Same handlers for browser and server (?)</li>
          </ul>
          <aside class="notes" data-markdown>
            * You might still want to render some parts from the server
            * This gives you freedom
            * Route layer handling of requests should be transparent
          </aside>
				</section>

				<section>
          <h2>There's still some way to go</h2>
          <h3 class="fragment">So let's make it happen!</h3>
          <aside class="notes" data-markdown>
            * Let's make this happen
          </aside>
				</section>

				<section>
          <h2>Thank you!</h2>
          <p>Come talk to me! <a href="http://contentful.com">Contentful</a> is hiring!</p>
          <aside class="notes" data-markdown>
          </aside>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme || 'night', // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
